"use strict";

exports.__esModule = true;
exports.default = void 0;
const imageNodes = {
  state: {
    urls: new Set(),
    nodeMetaByUrl: {},
    nodeIds: []
  },
  reducers: {
    setState(state, payload) {
      state = Object.assign(Object.assign({}, state), payload);
      return state;
    },

    setNodeIds(_, payload) {
      return {
        nodeIds: payload
      };
    },

    pushNodeMeta(state, {
      id,
      sourceUrl,
      modifiedGmt
    }) {
      state.nodeIds.push(id);
      state.nodeMetaByUrl[sourceUrl] = {
        id,
        modifiedGmt
      };
      return state;
    },

    addImgMatches(state, matches) {
      matches.forEach(match => match.subMatches.forEach(subMatch => state.urls.add(subMatch)));
      return state;
    }

  }
};
var _default = imageNodes;
exports.default = _default;